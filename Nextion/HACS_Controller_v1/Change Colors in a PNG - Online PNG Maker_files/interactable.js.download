var Interactable={};Interactable.enableScroll=function(t){t.setAttribute("data-scroll","enabled")},Interactable.disableScroll=function(t){t.removeAttribute("data-scroll")},Interactable.setPreviewPosition=function(t,e,n){t.setAttribute("data-scroll-x",parseInt(e)),t.setAttribute("data-scroll-y",parseInt(n))},Interactable.getPreviewPosition=function(t){return{x:parseInt(t.getAttribute("data-scroll-x")||0),y:parseInt(t.getAttribute("data-scroll-y")||0)}},Interactable.changePreviewPosition=function(t,e,n){var r=Interactable.getPreviewPosition(t);Interactable.setPreviewPosition(t,r.x+e,r.y+n)},Interactable.centerPreview=function(t,e,n){var r=t.parentElement,s={x:r.clientWidth/2-e,y:r.clientHeight/2-n};Interactable.setPreviewPosition(t,s.x,s.y)},Interactable.make=function(t,e){Interactable.enableScroll(t),e||(e={}),t.addEventListener("mouseup",function(n){var r=t.classList.contains("not-empty");if(r){var s=parseInt(n.offsetX),a=parseInt(n.offsetY);t.setAttribute("data-prev-x",n.screenX),t.setAttribute("data-prev-y",n.screenY);var o=Interactable.getPreviewPosition(t);e.onrelease&&e.onrelease(s-o.x,a-o.y)}}),t.addEventListener("mouseenter",function(n){var r=t.classList.contains("not-empty");if(r){var s=parseInt(n.offsetX),a=parseInt(n.offsetY);t.setAttribute("data-prev-x",n.screenX),t.setAttribute("data-prev-y",n.screenY);var o=Interactable.getPreviewPosition(t);n.buttons!=1&&e.onrelease&&e.onrelease(s-o.x,a-o.y)}}),t.addEventListener("mousedown",function(n){var r=t.classList.contains("not-empty");if(r){var s=parseInt(n.offsetX),a=parseInt(n.offsetY);t.setAttribute("data-prev-x",n.screenX),t.setAttribute("data-prev-y",n.screenY);var o=Interactable.getPreviewPosition(t);e.onclick&&e.onclick(s-o.x,a-o.y)}}),t.addEventListener("mousemove",function(n){var r=t.classList.contains("not-empty"),s=t.getAttribute("data-scroll");if(r&&n.buttons==1){n.stopPropagation();var a=parseInt(t.getAttribute("data-prev-x")||0),o=parseInt(t.getAttribute("data-prev-y")||0),i=a?n.screenX-a:0,c=o?n.screenY-o:0;if(t.setAttribute("data-prev-x",n.screenX),t.setAttribute("data-prev-y",n.screenY),s){var u=Interactable.getPreviewPosition(t),d=u.x+i,f=u.y+c;Interactable.setPreviewPosition(t,d,f)}e.onscroll&&e.onscroll(i,c)}}),t.addEventListener("touchstart",function(n){var r=t.classList.contains("not-empty");if(r){var s=t.getBoundingClientRect(),a=n.touches[0],o=parseInt(a.clientX-s.left),i=parseInt(a.clientY-s.top);t.setAttribute("data-prev-x",a.screenX),t.setAttribute("data-prev-y",a.screenY);var c=Interactable.getPreviewPosition(t);e.onclick&&e.onclick(o-c.x,i-c.y)}}),t.addEventListener("touchend",function(n){var r=t.classList.contains("not-empty");if(r){var s=t.getBoundingClientRect(),a=n.changedTouches[0],o=parseInt(a.clientX-s.left),i=parseInt(a.clientY-s.top);t.setAttribute("data-prev-x",a.screenX),t.setAttribute("data-prev-y",a.screenY);var c=Interactable.getPreviewPosition(t);e.onrelease&&e.onrelease(o-c.x,i-c.y)}}),t.addEventListener("touchmove",function(n){var r=t.classList.contains("not-empty"),s=t.getAttribute("data-scroll");if(r){n.preventDefault(),n.stopPropagation();var a=parseInt(t.getAttribute("data-prev-x")||0),o=parseInt(t.getAttribute("data-prev-y")||0),i=n.touches[0],c=parseInt(a?i.screenX-a:0),u=parseInt(o?i.screenY-o:0);if(t.setAttribute("data-prev-x",i.screenX),t.setAttribute("data-prev-y",i.screenY),s){var d=Interactable.getPreviewPosition(t),f=d.x+c,l=d.y+u;Interactable.setPreviewPosition(t,f,l)}e.onscroll&&e.onscroll(c,u)}})};
