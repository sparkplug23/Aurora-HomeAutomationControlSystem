(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[23],{114:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},738:function(e,t){},739:function(e){e.exports=JSON.parse('{"_args":[["@alife/heaven-smart-banner-core@0.1.13","/cloud/source_code"]],"_from":"@alife/heaven-smart-banner-core@0.1.13","_id":"@alife/heaven-smart-banner-core@0.1.13","_inBundle":false,"_integrity":"sha1-pO3MBg8Jkz3I46JAc3+/Wo4vaXo=","_location":"/@alife/heaven-smart-banner-core","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"@alife/heaven-smart-banner-core@0.1.13","name":"@alife/heaven-smart-banner-core","escapedName":"@alife%2fheaven-smart-banner-core","scope":"@alife","rawSpec":"0.1.13","saveSpec":null,"fetchSpec":"0.1.13"},"_requiredBy":["/@ali/poplayer-web-container"],"_resolved":"https://registry.npm.alibaba-inc.com/@alife/heaven-smart-banner-core/download/@alife/heaven-smart-banner-core-0.1.13.tgz","_spec":"0.1.13","_where":"/cloud/source_code","author":{"name":"老邬"},"componentConfig":{"name":"@alife/heaven-smart-banner-core","title":"","desc":""},"dependencies":{"@alife/zoro-cookie":"^2.0.10","prop-types":"^15.5.8"},"description":"","devDependencies":{"@alib/build-scripts":"^0.1.20","@types/classnames":"^2.2.10","@types/enzyme":"^3.10.5","@types/enzyme-adapter-react-16":"^1.0.6","@types/jest":"^25.1.4","@types/react":"^16.9.33","@types/react-dom":"^16.9.6","@typescript-eslint/eslint-plugin":"^2.26.0","@typescript-eslint/parser":"^2.26.0","build-plugin-component":"^0.2.15","build-plugin-fusion":"^0.1.2","build-plugin-moment-locales":"^0.1.0","enzyme":"^3.11.0","enzyme-adapter-react-16":"^1.15.2","eslint":"^6.8.0","eslint-plugin-react":"^7.19.0","identity-obj-proxy":"^3.0.0","jest":"^25.2.4","react":"^16.13.1","react-dom":"^16.13.1","ts-jest":"^25.3.0","typescript":"^3.8.3"},"heavenConfig":{"authors":"老邬","createdDate":"1588735826157","updatedDate":"1588735826157","version":"0.0.1","category":"基础组件","biz":"基础链路","framework":"React","platform":"PC","tags":"a,b,c"},"homepage":"https://unpkg.alibaba-inc.com/@alife/heaven-smart-banner-core@0.1.13/build/index.html","keywords":[],"license":"MIT","main":"lib/index.js","module":"es/index.js","name":"@alife/heaven-smart-banner-core","publishConfig":{"registry":"https://registry.npm.alibaba-inc.com"},"scripts":{"build":"build-scripts build","start":"build-scripts start","test":"build-scripts test"},"types":"es/index.d.ts","version":"0.1.13"}')},740:function(e,t){},741:function(e,t){},742:function(e,t,n){(function(e){var t=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function i(e,t){if(!o[e]){o[e]={};for(var n=0;n<e.length;n++)o[e][e.charAt(n)]=n}return o[e][t]}var r={compressToBase64:function(e){if(null==e)return"";var n=r._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:r._decompress(e.length,32,(function(n){return i(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":r._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:r._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=r.compress(e),n=new Uint8Array(2*t.length),o=0,i=t.length;o<i;o++){var a=t.charCodeAt(o);n[2*o]=a>>>8,n[2*o+1]=a%256}return n},decompressFromUint8Array:function(t){if(null==t)return r.decompress(t);for(var n=new Array(t.length/2),o=0,i=n.length;o<i;o++)n[o]=256*t[2*o]+t[2*o+1];var a=[];return n.forEach((function(t){a.push(e(t))})),r.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":r._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),r._decompress(e.length,32,(function(t){return i(n,e.charAt(t))})))},compress:function(t){return r._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var o,i,r,a={},c={},s="",l="",p="",d=2,u=3,f=2,m=[],h=0,g=0;for(r=0;r<e.length;r+=1)if(s=e.charAt(r),Object.prototype.hasOwnProperty.call(a,s)||(a[s]=u++,c[s]=!0),l=p+s,Object.prototype.hasOwnProperty.call(a,l))p=l;else{if(Object.prototype.hasOwnProperty.call(c,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(i=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1}else{for(i=1,o=0;o<f;o++)h=h<<1|i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i=0;for(i=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete c[p]}else for(i=a[p],o=0;o<f;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++),a[l]=u++,p=String(s)}if(""!==p){if(Object.prototype.hasOwnProperty.call(c,p)){if(p.charCodeAt(0)<256){for(o=0;o<f;o++)h<<=1,g==t-1?(g=0,m.push(n(h)),h=0):g++;for(i=p.charCodeAt(0),o=0;o<8;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1}else{for(i=1,o=0;o<f;o++)h=h<<1|i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i=0;for(i=p.charCodeAt(0),o=0;o<16;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1}0==--d&&(d=Math.pow(2,f),f++),delete c[p]}else for(i=a[p],o=0;o<f;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1;0==--d&&(d=Math.pow(2,f),f++)}for(i=2,o=0;o<f;o++)h=h<<1|1&i,g==t-1?(g=0,m.push(n(h)),h=0):g++,i>>=1;for(;;){if(h<<=1,g==t-1){m.push(n(h));break}g++}return m.join("")},decompress:function(e){return null==e?"":""==e?null:r._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,o){var i,r,a,c,s,l,p,d=[],u=4,f=4,m=3,h="",g=[],v={val:o(0),position:n,index:1};for(i=0;i<3;i+=1)d[i]=i;for(a=0,s=Math.pow(2,2),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;switch(a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;p=e(a);break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;p=e(a);break;case 2:return""}for(d[3]=p,r=p,g.push(p);;){if(v.index>t)return"";for(a=0,s=Math.pow(2,m),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;switch(p=a){case 0:for(a=0,s=Math.pow(2,8),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;d[f++]=e(a),p=f-1,u--;break;case 1:for(a=0,s=Math.pow(2,16),l=1;l!=s;)c=v.val&v.position,v.position>>=1,0==v.position&&(v.position=n,v.val=o(v.index++)),a|=(c>0?1:0)*l,l<<=1;d[f++]=e(a),p=f-1,u--;break;case 2:return g.join("")}if(0==u&&(u=Math.pow(2,m),m++),d[p])h=d[p];else{if(p!==f)return null;h=r+r.charAt(0)}g.push(h),d[f++]=r+h.charAt(0),r=h,0==--u&&(u=Math.pow(2,m),m++)}}};return r}();"function"==typeof define&&define.amd?define((function(){return t})):null!=e&&(e.exports=t)}).call(this,n(114)(e))},743:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function o(e){return"number"!=typeof e||e>3e4||e<0?0:Math.round(e)}function i(e){return o(window.performance&&window.performance.timing?e-window.performance.timing.fetchStart:0)}var r={error:function(e,t){window.__bl&&window.__bl.error?window.__bl.error(e,t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["error",e,t]))},api:{success:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!0,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!0,t,n,o]))},error:function(e,t,n,o){window.__bl&&window.__bl.api?window.__bl.api(e,!1,t,n,o):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(["api",e,!1,t,n,o]))}},report:function(e){try{if(!e)return;if(!("Promise"in window))return;if(!window.performance)return;Object.keys(e).forEach((function(t){var n=e[t];if("number"!=typeof n){if(!n||!n.then)throw new Error("performance package: first argument of function reportPerformance need to be a promise or thenable!");e[t]=n.then((function(e){return i(e)}))}else e[t]=o(n)}));var t={ctti:new Promise((function(e){r.interactiveTimerId=setTimeout((function(){e(i(Date.now()))}),0)})).catch((function(e){throw new Error(e)})),t1:(s=0,new Promise((function(e){if("function"==typeof window.performance.getEntriesByType){var t=performance.getEntriesByType("paint");if(t)for(var n=0,i=t.length;n<i;n++){var r=t[n];"first-paint"===r.name&&(s=r.startTime)}}else if(window.chrome&&window.chrome.loadTimes){var a=window.chrome.loadTimes();s=1e3*(a.firstPaintTime-a.startLoadTime)}else"number"==typeof window.performance.timing.msFirstPaint&&(s=window.performance.timing.msFirstPaint-window.performance.timing.navigationStart);e(o(s))})).catch((function(e){throw new Error(e)})))},n=Object.assign(t,e),a=[],c=[];Object.keys(n).forEach((function(e){a.push(e),c.push(n[e])})),Promise.all(c).then((function(e){var t={};e.forEach((function(e,n){t[a[n]]=e}));var n=["performance",t];window.__bl&&window.__bl.performance?window.__bl.performance(t):window.__bl&&(window.__bl.pipe=window.__bl.pipe||[],window.__bl.pipe.push(n))})).catch((function(e){throw console.error(e),new Error(e)}))}catch(e){throw new Error(e)}var s},gc:function(){clearTimeout(this.interactiveTimerId)}},a=r;t.default=a},954:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"getAffCookieData",(function(){return g})),n.d(o,"parseUrl",(function(){return v})),n.d(o,"getParameterByName",(function(){return y})),n.d(o,"isRuDomain",(function(){return w})),n.d(o,"isFunction",(function(){return _})),n.d(o,"serializeParams",(function(){return b})),n.d(o,"addUrlParams",(function(){return x})),n.d(o,"createRedirectUrl",(function(){return E})),n.d(o,"createCallAppUrl",(function(){return k})),n.d(o,"createAppStoreUrl",(function(){return C})),n.d(o,"jsonParse",(function(){return S})),n.d(o,"getPageCode",(function(){return T})),n.d(o,"getPageSpm",(function(){return I})),n.d(o,"isDebug",(function(){return A})),n.d(o,"isSmbLog",(function(){return P})),n.d(o,"getDay",(function(){return R})),n.d(o,"getProductId",(function(){return O})),n.d(o,"getDomain",(function(){return U})),n.d(o,"getDefaultTargetUrl",(function(){return N})),n.d(o,"isAndroid",(function(){return D})),n.d(o,"removeSmbUrlKey",(function(){return j})),n.d(o,"SCHEME_MAP",(function(){return M})),n.d(o,"fixCallUrlParams",(function(){return B}));var i={};n.r(i),n.d(i,"sendPoint",(function(){return F}));var r=n(0),a=n.n(r),c=n(13),s=n.n(c),l=n(3),p=n.n(l),d=n(1),u=n.n(d),f=n(739),m=n(30),h=n.n(m);function g(){return{aeuCid:h.a.getAeucid(),browserId:h.a.getACS_RT(),lang:h.a.getLocale()||"",shipToCountry:h.a.getRegion()||"",currency:h.a.getCurrency()||"",accountId:h.a.getMemberSeq()||""}}function v(e){var t={},n=e.match(/\?[^#]*/);return n&&1!==n[0].length?(n[0].slice(1).split("&").forEach((function(e){n=e.split("="),t[n[0]]=decodeURIComponent(n[1]||"")})),t):t}function y(e,t){t||(t=window.location.href),e=e.replace(/[[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function w(){return/aliexpress\.ru/.test(window.location.host)}function _(e){return"function"===(typeof e).toLowerCase()}function b(e){return void 0===e&&(e={}),Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function x(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e.indexOf("?")>-1?e+"&"+b(t):e+"?"+b(t)}function E(e,t){return void 0===e&&(e=""),void 0===t&&(t={}),e?x(e,{fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",isFromSmb:!0,abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""}):""}function k(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n,i=g(),r={};i.aeuCid&&(r.aff_trace_key=t.aeuCid||i.aeuCid||"",r.aff_platform=t.aff_platform||"msite",r.browser_id=t.browserId||i.browserId||"");var a=t.accountId||i.accountId||"";return a&&(r.accountId=a),x(e,p()({fromPageCode:t.pageCode,m_page_id:t.pageId||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||""},r,o))}function C(e,t){if(void 0===e&&(e=""),void 0===t&&(t={}),!e)return"";var n=t.cookieInfo,o=void 0===n?{}:n;return x(e,p()({m_page_id:t.pageId,fromPageCode:t.pageCode||"",spm:t.spm||"",isAutoCall:t.isAutoCall||"","spm-url":t["spm-url"]||"",abId:t.abId||"",bktId:t.bktId||"",activityId:t.activityId||"",dd_url:t.dd_url||""},o))}function S(e){void 0===e&&(e="");var t="";try{t=JSON.parse(e)||{}}catch(e){t=""}return t}function T(){return(""+document.querySelector("body").getAttribute("data-spm")||"").trim()}var I=function(){var e="",t="";try{var n=document.querySelector('meta[name="data-spm"]');e=n?n.getAttribute("content"):"a2g0n",t=document.querySelector("body").getAttribute("data-spm")||"unknow"}catch(n){e="",t=""}var o=[e,t].join(".");return function(){return o}}(),A=/true/.test(y("isSmbDebug")),P=/true/.test(y("isSmbLog"));function R(e){void 0===e&&(e=0);var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setDate(t.getDate()+e),+t}function O(e){void 0===e&&(e="");return((e.split("?")[0]||"").match(/aliexpress\.(com|ru)\/(item|i)\/(.*)\.htm(l?)/)||[])[3]||""}function U(){return w()?"m.aliexpress.ru":"m.aliexpress.com"}function N(){return"//"+U()+"/download-landing.html"}function D(){var e=window.navigator.userAgent;return e.indexOf("Android")>-1||e.indexOf("Linux")>-1}function j(e){void 0===e&&(e={});var t={};for(var n in e)"cancleSmbFatigueCrtl,isSmbDebug,isSMBLog,isSmbAutoCall,needSmbRedirect,smbTargetUrl,smbCallAppScheme,isSmbShow,needSmbHouyi,smbThemes,isSmbActive,needSmbAutoCallRedirect".indexOf(n)>-1||(t[n]=e[n]);return t}var M={HOME:"aliexpress://home",DETAIL:"aliexpress://product/detail",STORE:"aliexpress://store/home",LOGIN:"aliexpress://member/signin",ACCOUNT:"aliexpress://account",SHOPCART:"aliexpress://cart",PROFILE:"aliexpress://profile",WISHLIST:"aliexpress://wishlist",WISHSTORELIST:"aliexpress://wishstorelist",SEARCHLIST:"aliexpress://search/list",CATEGORYLIST:"aliexpress://native/goto/category",GOTO:"aliexpress://goto"};function B(e){void 0===e&&(e="");var t=e.trim(),n=v(e),o=window.location.href,i=j(v((o=o.replace(/https:\/\/(.*?).aliexpress.com\/campaign/,"https://campaign.aliexpress.com").replace(/https:\/\/(.*?).aliexpress.com\/pre-campaign/,"https://pre-wormhole.aliexpress.com"))||"")||{});if(function(e){return/https:\/\/(campaign|pre-wormhole).aliexpress.com\//.test(e)}(o)&&i.wh_weex){var r={};!i.wx_navbar_hidden&&(r.wx_navbar_hidden=!0),!i.wx_navbar_transparent&&(r.wx_navbar_transparent=!0),!i.wx_statusbar_hidden&&(r.wx_statusbar_hidden=!0),o=x(o,r)}if(t.indexOf(M.DETAIL)>-1){var a=n.productId?n.productId:O(o),c=p()({},n,{productId:a});return["gps-id","pvid","scm","scm-url","scm_id"].forEach((function(e){i[e]&&(c[e]=i[e])})),t=x(M.DETAIL,c)}if(t.indexOf(M.STORE)>-1){if(D()){var s={url:o};t=x(M.GOTO,s)}else{var l=p()({},n,{sellerAdminSeq:n.sellerId||i.sellerId||"",shopId:n.shopId||i.sellerId||""});t=x(M.STORE,l)}return t}return t.indexOf(M.GOTO)>-1?n.url?t:t=x(t,p()({},n,{url:o})):t}function L(e){try{var t=p()({st_page_id:window.dmtrack_pageid||""},e.params),n=b(t);P&&console.log("埋点：","path:"+e.path+", event:"+e.event+", 参数：",t),window.goldlog.record(e.path,e.event,n,"GET")}catch(e){}}function F(e,t){void 0===e&&(e="click"),void 0===t&&(t={}),"exposure"===e?function(e){L({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}(t):"click"===e&&function(e){L({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}(t)}var G=f.version,J=window.location.host,H=function(){function e(){var e=this;this.execCallApp=function(t){void 0===t&&(t={}),e.init(t);var n=e.options;e.exposurePoint();setTimeout((function(){e.autoRedirectStart=+new Date,window.location.href=n.callAppUrl}),0);var o=D()?3500:3e3;e.redirectTimer=setTimeout((function(){e.autoRedirectEnd=+new Date;var t=p()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!1,redirectUrl:encodeURIComponent(n.redirectUrl),callAppUrl:encodeURIComponent(n.callAppUrl)},e.getCommonPointParams());n.sendPoint&&F("click",t),_(n.callAppCallback)&&n.callAppCallback(!1,t,n),n.needRedirect&&(window.location.href=n.redirectUrl),e.clearRedirectField()}),o),e.hasRedirectTimer=!0},this.bindEvent(),this.hasExposure=!1}var t=e.prototype;return t.init=function(e){void 0===e&&(e={}),this.version=G,this.hasBindEvent=!1,this.redirectTimer=null,this.hasRedirectTimer=!1,this.isAutoCallRedirect=!1,this.autoRedirectStart=null,this.autoRedirectEnd=null;var t=Object.assign({pageCode:T(),callAppUrl:"aliexpress://home",targetUrl:"",needRedirect:!0,callAppCallback:null,isAutoCall:!1,sendPoint:!0,spm:[I(),"smartbanner","0"].join("."),pageId:window.dmtrack_pageid||"",timeout:3e3,activityId:"","spm-url":y("spm"),cookieInfo:{},extParams:{}},e);t.cookieInfo=t.cookieInfo||{},t.extParams=t.extParams||{},t.redirectUrl=E(t.targetUrl||N(),t)||"",t.callAppUrl=k(t.callAppUrl,t)||"",this.options=t},t.getCommonPointParams=function(){var e=this.options,t=void 0===e?{}:e;return p()({host:J,fromPageCode:t.pageCode||"",m_page_id:t.pageId||"","spm-url":t["spm-url"]||"","spm-cnt":t.spm||"",abId:t.abId||"",bktId:t.bktId||"",version:this.version,isAutoCall:t.isAutoCall||"",activityId:t.activityId||"",needRedirect:t.needRedirect},t.cookieInfo)},t.exposurePoint=function(){if(!this.hasExposure){this.hasExposure=!0;var e=this.options;F("exposure",p()({exp_page_area:"smartbanner_core",exp_type:"in_download_bar_core",exp_page:e.pageCode||""},this.getCommonPointParams()))}},t.bindEvent=function(){var e=this;this.hasBindEvent||(this.hasBindEvent=!0,document.addEventListener("visibilitychange",(function(){if(document.hidden&&e.redirectTimer&&e.hasRedirectTimer){var t=e.options;e.autoRedirectEnd=+new Date;var n=p()({cost_t:e.autoRedirectEnd-e.autoRedirectStart,has_app:!0,redirectUrl:encodeURIComponent(t.redirectUrl),callAppUrl:encodeURIComponent(t.callAppUrl)},e.getCommonPointParams());t.sendPoint&&F("click",n),_(t.callAppCallback)&&t.callAppCallback(!0,n),e.clearRedirectTimer(),e.clearRedirectField()}})))},t.clearRedirectField=function(){this.autoRedirectStart=null,this.autoRedirectEnd=null,this.isAutoCallRedirect=!1},t.clearRedirectTimer=function(){this.hasRedirectTimer=!1,window.clearTimeout(this.redirectTimer)},e}();n(738);var q=null;var z=o;n(740);var Y=1,W=function(){function e(e){this.copyId=void 0,this.containerId=void 0,this.isDestory=void 0,this.isInit=void 0,this.isInit=!1,this.init(e)}var t=e.prototype;return t.init=function(e){if(!this.isInit){this.isInit=!0,this.copyId="copy_textarea_"+Y,this.containerId="copy_box_"+Y;var t=this.getCopyBoxHtml(e.text),n=document.getElementsByTagName("body")[0],o=document.createElement("div");o.setAttribute("style","position: relative"),o.setAttribute("id",this.containerId),o.innerHTML=t,n.appendChild(o),this.isDestory=!1,Y+=1}},t.copy=function(e){if(!this.isDestory){var t=document.getElementById(this.copyId);if(t)try{t.focus(),t.select();var n=!1;document.queryCommandSupported("copy")&&(n=document.execCommand("copy",!1,null)),e&&e(n)}catch(t){e&&e(!1)}}},t.destory=function(){if(!this.isDestory){var e=document.getElementById(this.containerId);try{e&&e.remove(),this.isDestory=!0}catch(e){}}},t.getCopyBoxHtml=function(e){void 0===e&&(e="");var t=this.getCopyTextStyle();return['<textarea id="'+this.copyId+'" readOnly style="'+t+'" value="'+e+'" >'+e+"</textarea>"].join("")},t.getCopyTextStyle=function(){return["font-size: 12px;","border: 0;","padding: 0;","margin: 0;","position: absolute;","left: -9999px;","top: "+(window.pageYOffset||document.documentElement.scrollTop)+"px;"].join("")},e}(),K=n(11),Q=n(8),X=n(18),V=function(){var e=a()(u.a.mark((function e(t,n){var o,i,r,a,c,s,l,p,d,f,m,h,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===n&&(n="pc"),c=K.a.get("aep_usuc_f","b_locale"),s=K.a.getRegion(),l=c&&(null==c||null===(o=c.split("_"))||void 0===o?void 0:o[0])+"_"+s,p=K.a.getCurrency(),d=K.a.get("xman_us_f","acs_rt"),f=K.a.get("xman_us_f","x_as_i"),l="en_CN"===l?"en_US":l,m=Q.util.awsc,e.next=11,m.init();case 11:return e.next=13,m.getUA();case 13:return h=e.sent,e.next=16,m.getUmidToken();case 16:return g=e.sent,e.abrupt("return",X.a.request({type:"POST",api:"mtop.aliexpress.usertouch.poplayer.get",v:"2.0",appKey:"24815441",data:{_currency:p,_lang:l,clientType:n,positionSign:t,ua:h,umidToken:g,ext:JSON.stringify({pullTrafficRuleParam:{originalUrl:null===(i=window)||void 0===i||null===(r=i.location)||void 0===r?void 0:r.href,appAffiParameters:decodeURIComponent(f||"")||"",acsRt:d,referUrl:null===(a=document)||void 0===a?void 0:a.referrer}})}}));case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$="poplayer-web-container-cachetimes",Z=location.href.substring(0,location.href.indexOf("#")<0?location.href.length:location.href.indexOf("#")),ee=Z.substr(Z.indexOf("?")),te={};function ne(e){throw e}ee&&ee.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),(function(e,t,n,o){return te[t]=decodeURIComponent(o),""}));var oe={};function ie(){var e=localStorage.getItem($)||"";try{e&&(oe=JSON.parse(e)||{})}catch(e){oe={}}}var re,ae=function(){return oe},ce=(re={reducer:function(e){switch(void 0===e&&(e={}),e.type){case"add":return e.payload;case"reduceTime":return t=e.payload.key,(o=oe[t]).times-o.showTimes>0?p()({},oe,((n={})[t]=p()({},o,{showTimes:o.showTimes+1}),n)):oe;case"addTime":return function(e,t){var n,o=oe[e];return p()({},oe,((n={})[e]=p()({},o,{showTimes:o.showTimes-t}),n))}(e.payload.key,e.payload.times);default:ne("action should has type property")}var t,n,o},afterProcess:[function(e){oe=e,localStorage.setItem($,JSON.stringify(oe))}]},function(e){var t;void 0===e&&(e={});var n=re.reducer(e);null==re||null===(t=re.afterProcess)||void 0===t||t.forEach((function(e){e(n)}))}),se=["https://campaign.aliexpress.com","http://campaign.aliexpress.com","https://pre-wormhole.aliexpress.com","http://pre-wormhole.aliexpress.com"],le=function(){var e="postMessage"in window;function t(e,t,n){var o="";if(arguments.length<2?o="target error - target and name are both required":"object"!=typeof e?o="target error - target itself must be window object":"string"!=typeof t&&(o="target error - target name must be string type"),o)throw new Error(o);this.target=e,this.name=t,this.prefix=n}function n(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}return t.prototype.send=e?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},n.prototype.addTarget=function(e,n){var o=new t(e,n,this.prefix);this.targets[n]=o},n.prototype.initListen=function(){var t=this,n=function(e){if((-1!==se.indexOf(e.origin)||e.origin===window.location.origin)&&"object"==typeof e&&e.data&&e.data.indexOf&&e.data.indexOf("__Messenger__")>=0)for(var n=(e=e.data).split("__Messenger__"),o=(e=n[1],n[0].split("|")),i=o[0],r=o[1],a=0;a<t.listenFunc.length;a++)i+r===t.prefix+t.name&&t.listenFunc[a](e)};e?"addEventListener"in document?window.addEventListener("message",n,!1):"attachEvent"in document&&window.attachEvent("onmessage",n):window.navigator[this.prefix+this.name]=n},n.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,o=!1;t<n;t++)if(this.listenFunc[t]==e){o=!0;break}o||this.listenFunc.push(e)},n.prototype.clear=function(){this.listenFunc=[]},n.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)},n}();function pe(e,t,n){var o=e.indexOf("?");return o>=0&&(o<e.indexOf("#")||e.indexOf("#")<0)?e.replace(/\?/,"?"+t+"="+encodeURIComponent(n)+"&"):e.indexOf("#")>=0?e.replace("#","?"+t+"="+encodeURIComponent(n)+"#"):e+"?"+t+"="+encodeURIComponent(n)}function de(e){var t=Object.keys(e.params).map((function(t){return t+"="+e.params[t]})).join("&");window.goldlog&&window.goldlog.record(e.path,e.event,"st_page_id=".concat(window.dmtrack_pageid,"&").concat(t),"POST")}function ue(e){try{window.goldlog?e():(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.aplus_pubsub.subscribe",arguments:["goldlogReady",function(){e()}]})}catch(e){}}function fe(e){ue((function(){de({path:"/ae.pc_click.statweb_ae_click",event:"CLK",params:e})}))}function me(e){ue((function(){de({path:"/ae.pc_ctr.statweb_ae_ctr",event:"EXP",params:e})}))}var he=n(354),ge=n(356),ve=n(357),ye=n(358),we=n(359),_e=n(742),be=n.n(_e),xe=function(e){return Object.keys(Object.getPrototypeOf(e)).reduce((function(t,n){var o;return Object.assign(t,((o={})[n]=e[n],o))}),Object.assign({},e))};function Ee(e){var t,n;void 0===e&&(e="BODY");var o=document.querySelector(e);if(!o)return[];var i=document.createNodeIterator(o,NodeFilter.SHOW_TEXT);for(var r,a,c=null,s=[];c=i.nextNode();)if(c&&c.wholeText.trim().length){var l=(r=c,a=void 0,(a=document.createRange()).selectNode(r),a.getBoundingClientRect());l.top>=0&&l.left>=0&&l.width>0&&l.height>0&&s.push(p()({},xe(l),{type:"text"}))}Array.from(o.getElementsByTagName("img")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&s.push(p()({},xe(t),{type:"img"}))})),Array.from(o.getElementsByTagName("svg")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&s.push(p()({},xe(t),{type:"svg"}))})),Array.from(o.getElementsByTagName("canvas")).forEach((function(e){var t=e.getBoundingClientRect();t.top>=0&&t.left>=0&&t.width>0&&t.height>0&&s.push(p()({},xe(t),{type:"canvas"}))}));var d=JSON.stringify({title:e,width:null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.width,height:null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.height,pagePortrait:s.map((function(e){var t,n;return p()({},e,{x:e.x-(null==o||null===(t=o.getBoundingClientRect())||void 0===t?void 0:t.left),y:e.y-(null==o||null===(n=o.getBoundingClientRect())||void 0===n?void 0:n.top)})}))});return be.a.compress(d)}n(741);var ke=function(e){window.AES_QUEUE&&window.AES_QUEUE.push(e)},Ce=function(e,t,n){var o,i,r,a;if("function"==typeof(null===(o=window)||void 0===o||null===(i=o._AES)||void 0===i?void 0:i.AESPluginEvent)){var c={};if("string"==typeof t){for(var s={},l=arguments.length,d=new Array(l>3?l-3:0),u=3;u<l;u++)d[u-3]=arguments[u];d.forEach((function(e,t){s["c"+(t+1)]=e})),c=p()({et:t,xpath:n},s)}else c=t;-1==["EXP","CLK","SLD","INPUT","SYS","OTHER"].indexOf(c.et)&&console.warn&&console.warn("'et' should been 'EXP','CLK','SLD','INPUT','SYS', 'OTHER'"),null===(r=window)||void 0===r||null===(a=r._AES)||void 0===a||a.AESPluginEvent(e,c)}},Se=function(e,t){void 0===t&&(t=!1);try{!function(e,t,n){void 0===e&&(e="BODY"),void 0===t&&(t=!1);var o=new he.a,i=new ve.a(e),r=new ge.a(e),a=new ye.a(e),c=new we.a(e);i.apply(o),r.apply(o),a.apply(o),c.apply(o),o.run((function(o){void 0===o&&(o={}),o&&n(p()({},o,{c4:t?Ee(e):""}))}))}(e,t,(function(e){var t=e.c1,n=e.c2,o=e.c3,i=e.c4,r=void 0===i?"":i,a=e.c5,c=void 0===a?"":a,s=e.c6;t&&Ce("FFFFFF","OTHER","",t,n,o,r,c,void 0===s?"":s)})),window.__isInitGEPWhitePageDetect||(window.__isInitGEPWhitePageDetect=!0)}catch(e){console.error(e)}};function Te(e){try{"function"==typeof e&&e()}catch(e){console.error(e)}}window.GEP_READY_LISTENER=window.GEP_READY_LISTENER||[];var Ie,Ae,Pe,Re=window.GEP_READY_LISTENER||[];if(Re.isProxy||(window.GEP_READY_LISTENER=new Proxy(Re,{set:function(e,t,n,o){return"length"!==t&&Te(n),!0},get:function(e,t,n){return"isProxy"===t||Reflect.get(e,t,n)}})),window.GEP_READY_LISTENER&&window.GEP_READY_LISTENER.length)try{setTimeout((function(){window.GEP_READY_LISTENER.forEach((function(e){Te(e)}))}),0)}catch(e){console.error(e)}setTimeout((function(){window.__isInitGEPWhitePageDetect||Se("BODY",!1)}),0),null!==(Ie=window)&&void 0!==Ie&&Ie.GEP_EVENT_QUEUE&&(null!==(Ae=window)&&void 0!==Ae&&null!==(Pe=Ae.GEP_EVENT_QUEUE)&&void 0!==Pe&&Pe.length&&window.GEP_EVENT_QUEUE.forEach((function(e){void 0===e&&(e={});var t=e,n=t.eventId,o=t.et,i=t.xpath,r=t.args;Ce.apply(void 0,[n,o,i].concat(void 0===r?[]:r))})),window.GEP_EVENT_QUEUE=null);var Oe=n(743),Ue=n.n(Oe);function Ne(e,t){Ue.a.error(new Error(e),{filename:t}),function(e,t,n,o,i){void 0===t&&(t="empty"),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i="empty");try{var r={};if("string"==typeof e)r={message:e,url:t,lineno:n,colno:o,stack:i};else{var a=e.message,c=e.url,s=void 0===c?"empty":c,l=e.lineno,p=void 0===l?0:l,d=e.colno,u=void 0===d?0:d,f=e.stack;r={message:a,url:s,lineno:p,colno:u,stack:void 0===f?"empty":f}}ke({action:"log",arguments:["js_error",r]})}catch(e){console.error(e)}}(new Error(e))}function De(e,t,n){var o,i,r;"detail"===(null===(o=window)||void 0===o||null===(i=o.g_SPM)||void 0===i||null===(r=i._current_spm)||void 0===r?void 0:r.b)&&"poplayerShow"===e&&Ue.a.report({t10:Promise.resolve(n)}),Ce(e,{et:t,xpath:"html/body/div",c1:n})}var je=["type"];function Me(e){return Be.apply(this,arguments)}function Be(){return(Be=a()(u.a.mark((function e(t){var n,o,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=t.type,o=s()(t,je),Object.keys(o||{}).reduce((function(e,n){var i=o[n];return t[n]=i,i?e+"&"+n+"="+i:e}),""),i=[""+t.log_key,"click"===n?"CLK":"EXP"],"poplayer","click"===n?t.ae_page_type="poplayer":t.exp_type="poplayer",t.spm_cnt=t.spm_cnt||"a2g0n.poplayer",t.sdkVersion="1.0.24","CLK"===i[1]?fe(t):me(t)}catch(e){Ne("poplayer 打点上报出错:"+e,"src/util/log.ts")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=window.navigator.userAgent;function Fe(){return!!Le.match(/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}function Ge(e){var t=e.positionSign,n=e.uuid,o="autoCollectPopCoupon-"+t,i=localStorage.getItem(o)||"";if(i)try{var r=(i?JSON.parse(i):{})||{},a=(r.positionSign,r.uuid),c=r.timestamp,s=void 0===c?0:c,l=+new Date;a&&(a!==n||l-s>=3e5)&&localStorage.removeItem(o)}catch(e){}}var Je=n(20),He=n.n(Je),qe=n(36),ze=n.n(qe);var Ye=function(e,t,n){var o,i,r,a,c=document.createElement("div");document.body.appendChild(c);var s=null==t||null===(o=t.params)||void 0===o?void 0:o.jsComboUrl,l=null===(i=s.match(/@ali\/gmod-(poplayer|pop)(-[a-z]+)+/))||void 0===i?void 0:i[0],p=document.createElement("script");return p.src=s,null===(r=document.getElementsByTagName("head"))||void 0===r||null===(a=r[0])||void 0===a||a.appendChild(p),p.onload=function(){var o,i=document.body.getAttribute("data-spm")||"0";if(null!==(o=window)&&void 0!==o&&o[l]){var r=He.a.createElement(window[l],{popInfo:t,positionSign:e.positionSign,parentSpmB:i,uuid:n});r&&ze.a.render(r,c)}else Ne("poplayer module not found: "+l,"src/page/index/new.ts")},c},We=["callAppUrl","targetUrl","pageCode","needRedirect","isAutoCall","spm","pageId"],Ke=(Fe(),Fe()?"a2g0n":"a2g0o"),Qe=Fe()?"msite":"pc",Xe=Date.now(),Ve="postMessage"in window;function $e(e,t){var n=[];for(var o in e)n.push(p()({},e[o],{uuid:o}));var i=n.filter((function(e){return(null==e?void 0:e.times)>(null==e?void 0:e.showTimes)})).map((function(e){return e.uuid})),r=[];Object.keys(t).map((function(e,n){r.push({keyName:e,value:t[e]})}));var a=r.sort((function(e,t){return t.value.priority-e.value.priority})).filter((function(e){return i.includes(e.value.uuid)})),c={smallImage:!1,snackbar:!1,other:!1};return a.length?a.filter((function(e){if("smallImage"===e.value.type){if(!c.smallImage)return c.smallImage=!0,!0}else if("snackbar"===e.value.type){if(!c.snackbar)return c.snackbar=!0,!0}else if(!c.other)return c.other=!0,!0;return!1})).map((function(e){return e.keyName})):[]}function Ze(e,t,n){var o=document.createElement("iframe"),i=t.split(/_/)&&t.split(/_/)[2];return i&&(o.src=pe(pe(pe(e,"__poplayer_preserve_uuid",i),"__prefix",te.__prefix||""),"__poplayer_position_sign",n),o.name=t,o.style.width="100%",o.style.height="100%",o.style.border="none",o.style.display="none",o.style.position="fixed",o.style.zIndex="-100",o.style.left="0",o.style.top="0",o.style.transform="translate3d(0, 0, -100)",document.body.appendChild(o)),o}function et(e){return"number"==typeof e||/^\d+$/.test(""+e)?e+"px":e}function tt(e,t,n,o){return void 0===o&&(o=0),{showTimes:0===t?-1:n||0}}function nt(e,t,n,o,i,r,a,c){void 0===a&&(a=!1);var l=new le(e+"parent",void 0);l.addTarget(t.contentWindow||window,e),l.listen((function(l){var d,u,f,m,h=JSON.parse(l);switch(h.type){case"load":Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+r+".poplayer.loadsuccess",type:"expose",exp_page:o,positionSign:i,exp_type:"poplayer",houyiTrack:n,isNewModule:a,clientType:Qe,extend:JSON.stringify(null!==(d=null==h?void 0:h.extend)&&void 0!==d?d:{})});break;case"resizeWidthPosition":h.payload&&h.payload.width&&(t.style.width=et(h.payload.width)),h.payload&&h.payload.height&&(t.style.height=et(h.payload.height)),h.payload&&h.payload.top&&(t.style.top=et(h.payload.top)),h.payload&&h.payload.bottom&&(t.style.bottom=et(h.payload.bottom)),h.payload&&h.payload.left&&(t.style.left=et(h.payload.left)),h.payload&&h.payload.right&&(t.style.right=et(h.payload.right));break;case"show":Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+r+".poplayer.display",type:"expose",positionSign:i,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Qe,isNewModule:a,timeToShow:""+(Date.now()-Xe),extend:JSON.stringify(null!=h&&h.extend?p()({m_page_id:window.dmtrack_pageid||"","spm-url":te.spm||""},h.extend):{})}),t.style.display="block",t.style.zIndex="1000000",t.style.transform="translate3d(0, 0, 10000)",ce({type:"reduceTime",payload:{key:c}}),De("poplayerShow","EXP",""+(Date.now()-Xe));break;case"addTime":ce({type:"addTime",payload:{key:c,times:h.payload}});break;case"link":Me({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ke+"."+r+".poplayer.jump",type:"click",positionSign:i,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Qe,isNewModule:a,extend:JSON.stringify(null!==(u=null==h?void 0:h.extend)&&void 0!==u?u:{})});var g=h.payload;g=g.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),window.location.href=g;break;case"close":document.body.removeChild(t),Me({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ke+"."+r+".poplayer.close",type:"click",positionSign:i,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Qe,isNewModule:a,extend:JSON.stringify(null!=h&&h.extend?{m_page_id:window.dmtrack_pageid||"","spm-url":te.spm||""}:{})});break;case"failed":document.body.removeChild(t),Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+r+".poplayer.hidden",type:"expose",positionSign:i,exp_page:o,houyiTrack:n,isNewModule:a,exp_type:"poplayer",clientType:Qe,extend:JSON.stringify(null!==(f=null==h?void 0:h.extend)&&void 0!==f?f:{})});break;case"callApp":var v=h.payload,y=v.callAppUrl,w=v.targetUrl,_=(v.pageCode,v.needRedirect),b=v.isAutoCall,x=v.spm,E=void 0===x?Ke+"."+r+".poplayer.callapp":x,k=v.pageId,C=s()(v,We);if(y)try{var S=z.fixCallUrlParams(y),T=K.a.get("xman_us_f","acs_rt");if(T){var I=new W({text:["$",T||"","$"].join("")});I.copy((function(){})),setTimeout((function(){I.destory()}),150)}void 0===(m=p()({callAppUrl:S,callAppCallback:function(){},targetUrl:w,pageCode:r,needRedirect:void 0!==_?_:!!w,isAutoCall:b,spm:E,pageId:k||window.dmtrack_pageid||"",extParams:p()({track:n,fromAction:"poplayer"},C)},C))&&(m={}),q||(q=new H),q.execCallApp(m),Me({log_key:"/ae.pc_click.statweb_ae_click",spm_cnt:Ke+"."+r+".poplayer.callapp",type:"click",positionSign:i,exp_page:o,exp_type:"poplayer",houyiTrack:n,clientType:Qe,isNewModule:a,extend:JSON.stringify(null!=h&&h.extend?p()({m_page_id:window.dmtrack_pageid||"","spm-url":te.spm||""},h.extend):{})})}catch(t){Ne("poplayer "+e+" callAppUrl error: "+t,"src/page/index/index.ts"),console.log(t);try{if(_&&w){var A=z.createRedirectUrl(w,{pageCode:r,isAutoCall:b,spm:E,pageId:k||window.dmtrack_pageid||"","spm-url":te.spm||""});window.location.href=A}}catch(t){Ne("poplayer "+e+" callAppUrl redirect error: "+t,"src/page/index/index.ts"),console.error(t)}}document.body.removeChild(t);break;default:document.body.removeChild(t),Ne("poplayer "+e+":never unknown message happen, auto close poplayer","src/page/index/index.ts"),ne("never unknown message happen, auto close poplayer")}}))}function ot(){return(ot=a()(u.a.mark((function e(t){var n,o,i,r,a,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie(),o=document.body.getAttribute("data-spm")||"0",Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+o+".poplayer.trigger",type:"expose",positionSign:t.positionSign,exp_page:t.positionSign,exp_type:"poplayer",clientType:Qe}),i=Date.now(),e.next=6,V(t.positionSign,Qe);case 6:r=e.sent,De("poplayerMtopTiming","OTHER",""+(Date.now()-i)),a=ae(),c=null==r||null===(n=r.data)||void 0===n?void 0:n.popLayerRuleMap,s=Object.keys(c).reduce((function(e,t){var n;return p()({},e,((n={})[t]=JSON.parse(c[t]),n))}),{}),l=Object.keys(s).reduce((function(e,t){var n,o,i,r=s[t];return p()({},e,((i={})[r.uuid]=p()({times:r.times,type:r.type,priority:r.priority},tt(0,r.times,null===(n=a[r.uuid])||void 0===n?void 0:n.showTimes,null===(o=a[r.uuid])||void 0===o?void 0:o.startTime)),i))}),{}),ce({type:"add",payload:l}),(d=$e(l,s)).length&&d.forEach((function(e){var n,i,r,a,c,l,p,d,u,f=null===(n=s[e])||void 0===n||null===(i=n.params)||void 0===i?void 0:i.extGcpOutputPageUrl,m=null===(r=s[e])||void 0===r||null===(a=r.params)||void 0===a?void 0:a.jsComboUrl,h=null===(c=s[e])||void 0===c?void 0:c.type,g=null===(l=s[e])||void 0===l||null===(p=l.params)||void 0===p?void 0:p.type;"placeholder"===h&&"emptyContent"===g&&Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(d=s[e])||void 0===d||null===(u=d.params)||void 0===u?void 0:u.track,exp_page:f,exp_type:"poplayer",clientType:Qe});if(f&&Ve){var v,y,w,_,b;if(Me({log_key:"/ae.pc_ctr.statweb_ae_ctr",spm_cnt:Ke+"."+o+".poplayer.openurl",type:"expose",positionSign:t.positionSign,houyiTrack:null===(v=s[e])||void 0===v||null===(y=v.params)||void 0===y?void 0:y.track,exp_page:f,exp_type:"poplayer",clientType:Qe}),m){var x,E,k,C=null===(x=s[e])||void 0===x||null===(E=x.params)||void 0===E?void 0:E.track,S=Ye(t,s[e],e);return nt(e,S,C,window.location.href,t.positionSign,o,!0,null===(k=s[e])||void 0===k?void 0:k.uuid),void Ge({positionSign:t.positionSign,uuid:e})}var T=f,I=Ze(T+=T.indexOf("?")>=0?"&parentSpmB="+o:"?parentSpmB="+o,e,t.positionSign);I.onerror=function(t){Ne(e+" poplayer iframe on error","src/page/index/index.ts")},nt(e,I,null===(w=s[e])||void 0===w||null===(_=w.params)||void 0===_?void 0:_.track,f,t.positionSign,o,!1,null===(b=s[e])||void 0===b?void 0:b.uuid)}}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=function(e){return ot.apply(this,arguments)}}}]);