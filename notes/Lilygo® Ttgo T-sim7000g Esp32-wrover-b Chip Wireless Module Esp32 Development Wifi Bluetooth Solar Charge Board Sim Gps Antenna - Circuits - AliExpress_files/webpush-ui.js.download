(window["webpackJsonp-ae-fe/cosmos-1"]=window["webpackJsonp-ae-fe/cosmos-1"]||[]).push([[9],{169:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return c}));var i=n(4),r=function(){return i.g?Object(i.e)():navigator.userAgent},a=/(phone|pad|pod|iPhone|iPod|iPad|ios|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i,o=function(){var e=r();return a.test(e)};function s(){var e=r();return/AliApp\(AE/.test(e)}function u(){var e=r();return/iPhone/.test(e)||/\(i[^;]+;( U;)? CPU.+Mac OS X/.test(e)}function c(){var e=r();return/Android/.test(e)||/Adr/.test(e)}},301:function(e,t){},599:function(e,t,n){"use strict";n.r(t);n(301)},600:function(e,t,n){var i={};for(var r in i["en-us"]=n(601),i["ar-sa"]=n(602),i.kn=n(603),i.as=n(604),i.bho=n(605),i["pl-pl"]=n(606),i["ko-kr"]=n(607),i["de-de"]=n(608),i["ru-ru"]=n(609),i["fr-fr"]=n(610),i.gu=n(611),i["nl-nl"]=n(612),i["my-mm"]=n(613),i["bn-bd"]=n(614),i["bn-in"]=n(615),i.mr=n(616),i["ms-my"]=n(617),i.ml=n(618),i.mni=n(619),i["ne-np"]=n(620),i.or=n(621),i["pt-br"]=n(622),i["pt-pt"]=n(623),i.pa=n(624),i["ja-jp"]=n(625),i["si-lk"]=n(626),i["tr-tr"]=n(627),i["tl-ph"]=n(628),i.te=n(629),i.ta=n(630),i["th-th"]=n(631),i["ur-pk"]=n(632),i["ur-in"]=n(633),i["uk-ua"]=n(634),i["iw-il"]=n(635),i["es-es"]=n(636),i["it-it"]=n(637),i["in-id"]=n(638),i["hi-in"]=n(639),i["vi-vn"]=n(640),i["en-pk"]=n(641),i["en-ph"]=n(642),i["en-mm"]=n(643),i["en-bd"]=n(644),i["en-my"]=n(645),i["en-np"]=n(646),i["en-lk"]=n(647),i["en-th"]=n(648),i["en-sg"]=n(649),i["en-id"]=n(650),i["en-vn"]=n(651),i["zh-tw"]=n(652),i["zh-hk"]=n(653),i["zh-cn"]=n(654),i)if(i.hasOwnProperty(r)&&"en-us"!=r)for(var a in i["en-us"])i["en-us"].hasOwnProperty(a)&&(i[r].hasOwnProperty(a)||(i[r][a]=i["en-us"][a]));i.appName="web-push-v2",i.groupName="front",i.defaultLocale="en-us",e.exports=i},601:function(e,t){e.exports={Allow:"Allow","sub-title":"Get order updates, tips about the latest discounts, coupons and more!",title:"Subscribe to notifications",Prohibit:"Don't allow"}},602:function(e,t){e.exports={Prohibit:"عدم السماح",Allow:"السماح","sub-title":"استلم تحديثات الطلب، نصائح حول أحدث الخصومات، القسائم وأكثر!",title:"الاشتراك في الإشعارات"}},603:function(e,t){e.exports={}},604:function(e,t){e.exports={}},605:function(e,t){e.exports={}},606:function(e,t){e.exports={Prohibit:"Nie zezwalaj",title:"Zezwalaj na powiadomienia ze strony","sub-title":"Otrzymuj aktualne informacje o zamówieniach, zniżkach, kuponach i inne!",Allow:"Zezwalaj"}},607:function(e,t){e.exports={"sub-title":"주문 현황 업데이트, 최신 할인 팁, 그리고 쿠폰까지 알려드려요!",Allow:"설정하기",Prohibit:"설정 안 함",title:"사이트 알림을 등록하세요"}},608:function(e,t){e.exports={Prohibit:"Nicht zulassen",Allow:"Zulassen",title:"Website-Benachrichtigungen erlauben","sub-title":"Erhalten Sie Neuigkeiten zu Bestellungen, Tipps zu den neuesten Rabatten, Coupons und mehr!"}},609:function(e,t){e.exports={"sub-title":"Вы будете получать оповещения о заказах, скидках, купонах и распродажах",Allow:"Разрешить",Prohibit:"Отклонить",title:"Разрешить уведомления"}},610:function(e,t){e.exports={Allow:"Autoriser","sub-title":"Recevez des alertes sur les commandes, des conseils de promos, des coupons et plus encore !",Prohibit:"Ne pas autoriser",title:"S'abonner aux notifications"}},611:function(e,t){e.exports={}},612:function(e,t){e.exports={Allow:"Toestaan",title:"Websitemeldingen toestaan","sub-title":"Ontvang bestelupdates, tips over de nieuwste kortingen, coupons en meer!",Prohibit:"Niet toestaan"}},613:function(e,t){e.exports={}},614:function(e,t){e.exports={}},615:function(e,t){e.exports={}},616:function(e,t){e.exports={}},617:function(e,t){e.exports={}},618:function(e,t){e.exports={}},619:function(e,t){e.exports={}},620:function(e,t){e.exports={}},621:function(e,t){e.exports={}},622:function(e,t){e.exports={Prohibit:"Não permitir","sub-title":"Receba alertas sobre atualizações de pedidos, últimos descontos, cupons e muito mais!",Allow:"Permitir",title:"Inscrever-se para notificações"}},623:function(e,t){e.exports={Prohibit:"Não permitir",title:"Inscrever-se para notificações","sub-title":"Receba alertas sobre atualizações de pedidos, últimos descontos, cupons e muito mais!",Allow:"Permitir"}},624:function(e,t){e.exports={}},625:function(e,t){e.exports={"sub-title":"注文のアップデート、ヒント、最新のセール情報、クーポンなどの情報を受けとりましょう！",title:"サイトの通知を許可",Prohibit:"許可しない",Allow:"許可する"}},626:function(e,t){e.exports={}},627:function(e,t){e.exports={Prohibit:"İzin verme",title:"Bildirim almak için abone olun","sub-title":"Sipariş güncellemeleri, indirimler hakkında ipuçları, kuponlar ve daha fazlasını öğrenin!",Allow:"İzin ver"}},628:function(e,t){e.exports={}},629:function(e,t){e.exports={}},630:function(e,t){e.exports={}},631:function(e,t){e.exports={Prohibit:"ไม่อนุญาต",title:"อนุญาติให้เว็บไซต์แจ้งเตือน",Allow:"อนุญาต","sub-title":"รับการอัปเดตคำสั่งซื้อ เคล็ดลับเกี่ยวกับส่วนลดล่าสุด คูปอง และอื่น ๆ !"}},632:function(e,t){e.exports={}},633:function(e,t){e.exports={}},634:function(e,t){e.exports={"sub-title":"Отримуйте нові відомості про замовлення, поради щодо нових знижок, купонів і багато іншого!",Allow:"Дозволити",Prohibit:"Не дозволяти",title:"Дозволити сповіщення із сайту"}},635:function(e,t){e.exports={"sub-title":"קבלו עדכונים על הזמנות, טיפים על ההנחות האחרונות, קופונים ועוד!",Allow:"אפשרו",Prohibit:"אל תאפשרו",title:"הירשמו לקבלת הודעות"}},636:function(e,t){e.exports={Allow:"Permitir",title:"Suscríbete a las notificaciones",Prohibit:"No permitir","sub-title":"Recibe actualizaciones de tus pedidos, consejos sobre descuentos, cupones, ¡y más!"}},637:function(e,t){e.exports={"sub-title":"Ricevi aggiornamenti sugli ordini, consigli sugli ultimi sconti, coupon e altro ancora!",title:"Consenti le notifiche del sito",Prohibit:"Non consentire",Allow:"Consenti"}},638:function(e,t){e.exports={Prohibit:"Jangan izinkan",title:"Izinkan notifikasi situs","sub-title":"Dapatkan kabar terbaru tentang pesanan, tips seputar diskon terbaru, kupon, dll!",Allow:"Izinkan"}},639:function(e,t){e.exports={}},640:function(e,t){e.exports={Allow:"Cho phép","sub-title":"Nhận cập nhật đơn hàng, tin mới nhất về các đợt chiết khấu, phiếu mua hàng và hơn thế nữa!",title:"Bật thông báo từ trang web",Prohibit:"Không cho phép"}},641:function(e,t){e.exports={}},642:function(e,t){e.exports={}},643:function(e,t){e.exports={}},644:function(e,t){e.exports={}},645:function(e,t){e.exports={}},646:function(e,t){e.exports={}},647:function(e,t){e.exports={}},648:function(e,t){e.exports={}},649:function(e,t){e.exports={}},650:function(e,t){e.exports={}},651:function(e,t){e.exports={}},652:function(e,t){e.exports={}},653:function(e,t){e.exports={}},654:function(e,t){e.exports={}},655:function(e,t,n){e.exports={"webpush-ui":"_3KrBP",rtl:"_3XMV3","web-push-ui__close":"_24EHh","webpush-ui-info":"_1-aaU","webpush-ui__logo":"UAEqK","webpush-ui-info__title":"_1u9ll","webpush-ui-info__subTitle":"_3hbpp","webpush-ui-info__operate":"_1ZwH_","web-push-info__base":"_1-SOk",prohibit:"Sk1_X","webpush-msite-mask":"_1iaRg","webpush-msite":"_2ylEo","webpush-msite-title":"_3EVjL","webpush-msite-desc":"_3LwwY","webpush-msite-tips":"_2kACT","webpush-msite-button":"_2mjF9","webpush-msite-cancel":"_2F-Xx"}},962:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),a=n(1),o=n.n(a),s=n(8),u=n(20),c=n.n(u),l=n(36),p=n(169),d=n(42),f=n.n(d),h=n(30),b=n.n(h),m=(decodeURIComponent(location.href),b.a.getBuyerLocale()),w=["he_IL","ar_SA","iw_IL","ar_MA"].indexOf(m)>=0,v=n(600),g=n.n(v),x=s.util.tracker,_=function(e){return f.a.request({api:"mtop.global.ug.webpush.subscribe",v:"1.0",appKey:24815441,timeout:4e3,type:"POST",data:e})},k=function(e,t,n){if(void 0===n&&(n="CLIENT_REPORT"),e&&t)return x.clk({ae_button_type:"msite.webpush.unsub"}),f.a.request({api:"mtop.global.ug.webpush.unSubscribe",v:"1.0",appKey:24815441,timeout:4e3,type:"POST",data:{id:e,endpoint:t,unsubscribe_type:n}})},y=function(e){var t,n,i;function r(e){return e.replace(/_/g,"-").toLowerCase()}return null!==(t=null===g.a||void 0===g.a||null===(n=g.a[r(m)])||void 0===n?void 0:n[e])&&void 0!==t?t:null===g.a||void 0===g.a||null===(i=g.a[r("en_US")])||void 0===i?void 0:i[e]},P=n(655),A=n.n(P),N=function(e){var t,n,i=Object(u.useCallback)((function(t){e.destroy(t)}),[]);return Object(p.e)()?(n=(null===(t=window.__webpushConfig)||void 0===t?void 0:t.lang)||{},c.a.createElement("div",{className:A.a["webpush-msite-mask"]},c.a.createElement("div",{className:A.a["webpush-msite"]},c.a.createElement("div",{className:A.a["webpush-msite-title"]},n.title||"Get order and savings updates"),c.a.createElement("div",{className:A.a["webpush-msite-desc"]},n.subTitle||"We’ll notify you about order status, special savings, store events and more."),c.a.createElement("div",{className:A.a["webpush-msite-tips"]},n.btnTips||"Notifications can be turned off later"),c.a.createElement("div",{className:A.a["webpush-msite-button"],onClick:function(){var e,t;i("auth"),null===(e=window.__webpushConfig)||void 0===e||null===(t=e.onClick)||void 0===t||t.call(e)}},n.btnContext||"Get notifications"),c.a.createElement("div",{className:A.a["webpush-msite-cancel"],onClick:function(){var e,t;i("reject"),null===(e=window.__webpushConfig)||void 0===e||null===(t=e.onClose)||void 0===t||t.call(e)}},n.cancelBtnText||"Maybe later")))):c.a.createElement("div",{className:A.a["webpush-ui"]+"  "+(w?A.a.rtl:"")},c.a.createElement("div",{className:A.a["webpush-ui__logo"]},c.a.createElement("img",{src:"https://img.alicdn.com/tfs/TB1OQux3hD1gK0jSZFsXXbldVXa-134-32.png",alt:"aliexpress"})),c.a.createElement("div",{className:A.a["webpush-ui-info"]},c.a.createElement("div",{className:""+A.a["webpush-ui-info__title"]},y("title")),c.a.createElement("div",{className:A.a["webpush-ui-info__subTitle"]},y("sub-title")),c.a.createElement("div",{className:A.a["webpush-ui-info__operate"]},c.a.createElement("div",{className:(A.a.allow||"")+" "+A.a["web-push-info__base"],onClick:i.bind(null,"auth")},y("Allow")),c.a.createElement("div",{className:A.a.prohibit+" "+A.a["web-push-info__base"],onClick:i.bind(null,"reject")},y("Prohibit")))),c.a.createElement("img",{className:A.a["web-push-ui__close"],onClick:i.bind(null,"close"),src:"https://img.alicdn.com/tfs/TB1GSux3fb2gK0jSZK9XXaEgFXa-21-21.png",alt:""}))};var E=n(3),O=n.n(E),C=n(11);n(301);var S="postMessage"in window;function j(e,t,n){var i="";if(arguments.length<2?i="target error - target and name are both required":"object"!=typeof e?i="target error - target itself must be window object":"string"!=typeof t&&(i="target error - target name must be string type"),i)throw new Error(i);this.target=e,this.name=t,this.prefix=n}function I(e,t){this.targets={},this.name=e,this.listenFunc=[],this.prefix=t||"[PROJECT_NAME]",this.initListen()}j.prototype.send=S?function(e){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+e,"*")}:function(e){var t=window.navigator[this.prefix+this.name];if("function"!=typeof t)throw new Error("target callback function is not defined");t(this.prefix+e,window)},I.prototype.addTarget=function(e,t){var n=new j(e,t,this.prefix);this.targets[t]=n},I.prototype.initListen=function(){var e=this,t=function(t){if("object"==typeof t&&t.data&&t.data.indexOf&&t.data.indexOf("__Messenger__")>=0)for(var n=(t=t.data).split("__Messenger__"),i=(t=n[1],n[0].split("|")),r=i[0],a=i[1],o=0;o<e.listenFunc.length;o++)r+a===e.prefix+e.name&&e.listenFunc[o](t)};S?"addEventListener"in document?window.addEventListener("message",t,!1):"attachEvent"in document&&window.attachEvent("onmessage",t):window.navigator[this.prefix+this.name]=t},I.prototype.listen=function(e){for(var t=0,n=this.listenFunc.length,i=!1;t<n;t++)if(this.listenFunc[t]==e){i=!0;break}i||this.listenFunc.push(e)},I.prototype.clear=function(){this.listenFunc=[]},I.prototype.send=function(e){var t,n=this.targets;for(t in n)n.hasOwnProperty(t)&&n[t].send(e)};var T,z=new I("webpush-client-v1-parent",void 0),M=function(e,t){z.send(JSON.stringify({type:e,payload:t}))},L=2592e5,D=s.util.tracker;!function(e){e.granted="granted",e.denied="denied",e.default="default"}(T||(T={}));var R,B,K,W,F,J,U=function(e){throw D.clk({ae_button_type:"msite.webpush.suberror",ae_object_value:e||""}),M("store",{token:"",expired:+new Date+L,status:T.denied}),new Error(e)},X=function(e){var t=e.getKey?e.getKey("p256dh"):"",n=e.getKey?e.getKey("auth"):"";return{endpoint:e.endpoint,p256dhPublicKey:t?btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(t)))):"",auth:n?btoa(String.fromCharCode.apply(null,Array.from(new Uint8Array(n)))):""}},G=function(){var e=r()(o.a.mark((function e(t,n){var i,r,a,s,u,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&t.endpoint){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,u=new URL(location.href),c=O()({id:n.token||void 0,userId:C.a.getMemberId(),channel:Object(p.e)()?"msite":"pc",srcOrigin:""+u.origin+u.pathname,cnaCookieId:C.a.get("cna"),domain:location.hostname,lang:C.a.getLocale(),region:C.a.getRegion(),ua:window.navigator.userAgent},X(t)),e.next=7,_(c);case 7:return null!=(l=e.sent)&&null!==(i=l.data)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.cacheTime&&(L=1e3*l.data.data.cacheTime),M("store",{token:null==l||null===(a=l.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.id,expired:+new Date+L,status:T.granted,endpoint:t.endpoint,domain:location.hostname}),e.abrupt("return",l);case 13:return e.prev=13,e.t0=e.catch(2),e.abrupt("return",null);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=r()(o.a.mark((function e(t,n){var i,r,a,s,u,c,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=new URL(location.href),c=O()({id:n,type:n?"updateUid":"new",channel:Object(p.e)()?"msite":"pc",srcOrigin:""+u.origin+u.pathname,ua:window.navigator.userAgent},X(t)),C.a.getMemberId()&&(c.userId=C.a.getMemberId()),C.a.get("cna")&&(c.cnaCookieId=C.a.get("cna")),c.domain=location.hostname,c.lang=C.a.getLocale(),c.region=C.a.getRegion(),D.clk({ae_button_type:"msite.webpush.savePush"}),e.next=10,_(c);case 10:null!=(l=e.sent)&&null!==(i=l.data)&&void 0!==i&&null!==(r=i.data)&&void 0!==r&&r.cacheTime&&(L=1e3*l.data.data.cacheTime),M("store",{token:null==l||null===(a=l.data)||void 0===a||null===(s=a.data)||void 0===s?void 0:s.id,expired:+new Date+L,status:T.granted,endpoint:t.endpoint,domain:location.hostname});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i},H=function(){var e=r()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.serviceWorker.ready;case 3:return t=e.sent,e.next=6,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:q("BIGeWzIKODFi_GHGhLIeDL0fJbn5Zafo7g-i5ZBBTKKm0mqhi2Trsm2jYdgC16oWZTteMpliALI9J1kXtWL9KFQ")});case 6:n=e.sent,Z(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),U("Error during getSubscription() "+e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=r()(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"showNotification"in ServiceWorkerRegistration.prototype||U("Notifications aren't supported."),"denied"===Notification.permission&&(D.clk({ae_button_type:"msite.webpush.denied"}),U("The user has blocked notifications.")),"PushManager"in window||U("Push messaging isn't supported."),e.prev=3,e.next=6,navigator.serviceWorker.ready;case 6:return t=e.sent,e.next=9,t.pushManager.getSubscription();case 9:if(n=e.sent){e.next=14;break}return D.clk({ae_button_type:"msite.webpush.showPopup"}),H(),e.abrupt("return");case 14:Z(n),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),U("Error during init sub() "+e.t0);case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),V=(F=new Promise((function(e){return R=e})),{inited:function(){var e;null===(e=R)||void 0===e||e()},isInit:function(){return F},setData:function(e){var t;W=e,null===(t=K)||void 0===t||t()},getData:function(){return r()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B=new Promise((function(e){return K=e})),M("getStore"),e.next=4,B;case 4:return e.abrupt("return",W);case 5:case"end":return e.stop()}}),e)})))()}}),Y={receiveGrantData:function(e){return r()(o.a.mark((function t(){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n=JSON.parse(e)}catch(e){n=null}V.setData(n);case 2:case"end":return t.stop()}}),t)})))()},inited:function(){V.inited()}},$=function(){var e,t,n;return J||(t="https://wp.aliexpress.com/wp.html",(n=document.createElement("iframe")).src=t,n.style.display="none",document.body.append(n),J=n,z.addTarget(J.contentWindow,"webpush-client-v1-child"),e=Y,z.listen((function(t){if(t)try{var n,i,r=JSON.parse(t);Object.keys(e).indexOf(r.type)>-1&&(n=e)[r.type].apply(n,null!==(i=null==r?void 0:r.payload)&&void 0!==i?i:[])}catch(e){}}))),J},ee=function(){var e=r()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,$(),e.next=4,V.isInit();case 4:return e.abrupt("return",V.getData());case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=r()(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D.clk({ae_button_type:"msite.webpush.initpush"}),Q();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=r()(o.a.mark((function e(){var t,n,i,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee();case 2:return t=e.sent,D.clk({ae_button_type:"msite.webpush.logrecord",ae_object_value:t?JSON.stringify(t):"empty record"}),e.next=6,navigator.serviceWorker.ready;case 6:return n=e.sent,e.next=9,n.pushManager.getSubscription();case 9:if(!(i=e.sent)){e.next=22;break}if(r=O()({},t,{status:T.granted}),!(a=(null==t?void 0:t.endpoint)&&t.endpoint!==i.endpoint)){e.next=17;break}return D.clk({ae_button_type:"msite.webpush.changeendpoint"}),e.next=17,k(null==t?void 0:t.token,null==t?void 0:t.endpoint,(null==t?void 0:t.domain)!==location.hostname?"DOMAIN_SWITCH":"CLIENT_REPORT");case 17:if(t&&null!=t&&t.token&&!a&&!(t.token&&Date.now()>(t.expired||0))){e.next=21;break}return D.clk({ae_button_type:"msite.webpush.updateInfo",ae_object_value:!!t+"_"+a}),e.next=21,G(i,r);case 21:return e.abrupt("return",!0);case 22:if((null==t?void 0:t.status)!==T.granted){e.next=30;break}if((null==t?void 0:t.domain)===location.hostname){e.next=25;break}return e.abrupt("return",!0);case 25:return D.clk({ae_button_type:"msite.webpush.systemClose"}),e.next=28,k(null==t?void 0:t.token,null==t?void 0:t.endpoint,(null==t?void 0:t.domain)!==location.hostname?"DOMAIN_SWITCH":"CLIENT_REPORT");case 28:return M("store",{token:"",expired:+new Date+L,status:T.default}),e.abrupt("return",!1);case 30:if((null==t?void 0:t.status)!==T.denied){e.next=32;break}return e.abrupt("return",Date.now()<(t.expired||0));case 32:return e.abrupt("return",!1);case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(599);var ie,re=s.util.tracker;!function(e){e.auth="auth",e.reject="reject"}(ie||(ie={})),function(){var e=r()(o.a.mark((function e(){var t,n,i,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!/(Googlebot)|(facebookexternalhit)|(Pinterest)|(Yeti)|(YandexBot)/i.test(navigator.userAgent)&&"PushManager"in window){e.next=2;break}return e.abrupt("return");case 2:return n=JSON.parse((null===(t=window)||void 0===t?void 0:t.localStorage.getItem("webpush-auth-popup"))||"{}"),e.next=5,ne();case 5:if(e.sent){e.next=16;break}if(!("shown"===(null==n?void 0:n.status)&&Date.now()-(null==n?void 0:n.date)<=2592e5)){e.next=9;break}return e.abrupt("return");case 9:return re.exp({exp_type:"msite.webpush.authdialog.show"}),null===(i=window)||void 0===i||i.localStorage.setItem("webpush-auth-popup",JSON.stringify({date:+new Date,status:"shown"})),e.next=13,new Promise((function(e){var t=document.createElement("div");document.body.append(t),Object(l.render)(c.a.createElement(N,{destroy:function(n){Object(l.unmountComponentAtNode)(t),e(n)}}),t)}));case 13:r=e.sent,re.clk({ae_button_type:"msite.webpush.authdialog."+r}),r===ie.auth&&te();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}}]);